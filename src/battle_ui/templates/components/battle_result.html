<!-- ãƒãƒˆãƒ«çµæœ -->
<div class="fade-in">
    <div class="max-w-2xl mx-auto">
        {% if state.winner == 0 %}
        <!-- ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼å‹åˆ© -->
        <div class="bg-gradient-to-br from-green-400 to-blue-500 rounded-lg p-8 text-center text-white shadow-xl">
            <div class="text-6xl mb-4">ğŸ†</div>
            <h2 class="text-4xl font-bold mb-4">å‹åˆ©ï¼</h2>
            <p class="text-xl opacity-90 mb-6">
                {% if state.ai_surrendered %}
                AIãŒå‹ã¡ç›®ãªã—ã¨åˆ¤æ–­ã—ã€é™å‚ã—ã¾ã—ãŸï¼
                {% else %}
                ãŠã‚ã§ã¨ã†ã”ã–ã„ã¾ã™ï¼AIã«å‹åˆ©ã—ã¾ã—ãŸï¼
                {% endif %}
            </p>
            <div class="bg-white/20 rounded-lg p-4 mb-6">
                <div class="text-lg">ã‚¿ãƒ¼ãƒ³æ•°: {{ state.turn }}</div>
                {% if state.ai_surrendered %}
                <div class="text-sm mt-2 opacity-75">AIãŒé™å‚</div>
                {% endif %}
            </div>
            <a href="/setup"
               class="inline-block bg-white text-green-600 font-bold py-3 px-8 rounded-lg text-lg transition-colors hover:bg-gray-100">
                ã‚‚ã†ä¸€åº¦ãƒãƒˆãƒ«
            </a>
        </div>
        {% else %}
        <!-- AIå‹åˆ©ï¼ˆãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼æ•—åŒ—ï¼‰ -->
        <div class="bg-gradient-to-br from-gray-600 to-gray-800 rounded-lg p-8 text-center text-white shadow-xl">
            <div class="text-6xl mb-4">ğŸ’€</div>
            <h2 class="text-4xl font-bold mb-4">æ•—åŒ—...</h2>
            <p class="text-xl opacity-90 mb-6">
                AIã«è² ã‘ã¦ã—ã¾ã„ã¾ã—ãŸ...
            </p>
            <div class="bg-white/20 rounded-lg p-4 mb-6">
                <div class="text-lg">ã‚¿ãƒ¼ãƒ³æ•°: {{ state.turn }}</div>
            </div>
            <a href="/setup"
               class="inline-block bg-white text-gray-700 font-bold py-3 px-8 rounded-lg text-lg transition-colors hover:bg-gray-100">
                ãƒªãƒ™ãƒ³ã‚¸ã™ã‚‹
            </a>
        </div>
        {% endif %}
    </div>

    <!-- ãƒãƒˆãƒ«ã‚µãƒãƒªãƒ¼ -->
    <div class="max-w-4xl mx-auto mt-8">
        <div class="bg-white rounded-lg shadow p-6">
            <h3 class="font-bold text-lg mb-4">ãƒãƒˆãƒ«ã‚µãƒãƒªãƒ¼</h3>
            <div class="grid md:grid-cols-2 gap-6">
                <!-- ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ãƒãƒ¼ãƒ  -->
                <div>
                    <h4 class="text-sm text-blue-600 font-bold mb-2">ã‚ãªãŸã®ãƒãƒ¼ãƒ </h4>
                    <div class="space-y-2">
                        {% if state.player_active %}
                        <div class="flex items-center justify-between bg-gray-50 rounded p-2">
                            <span>{{ state.player_active.name }}</span>
                            <span class="text-sm {% if state.player_active.hp_percent > 0 %}text-green-600{% else %}text-red-600{% endif %}">
                                {{ state.player_active.hp_percent }}%
                            </span>
                        </div>
                        {% endif %}
                        {% for pokemon in state.player_bench %}
                        <div class="flex items-center justify-between bg-gray-50 rounded p-2">
                            <span>{{ pokemon.name }}</span>
                            <span class="text-sm {% if pokemon.hp_percent > 0 %}text-green-600{% else %}text-red-600{% endif %}">
                                {{ pokemon.hp_percent }}%
                            </span>
                        </div>
                        {% endfor %}
                    </div>
                </div>

                <!-- ç›¸æ‰‹ãƒãƒ¼ãƒ  -->
                <div>
                    <h4 class="text-sm text-red-600 font-bold mb-2">ç›¸æ‰‹ã®ãƒãƒ¼ãƒ </h4>
                    <div class="space-y-2">
                        {% if state.opponent_active %}
                        <div class="flex items-center justify-between bg-gray-50 rounded p-2">
                            <span>{{ state.opponent_active.name }}</span>
                            <span class="text-sm {% if state.opponent_active.hp_percent > 0 %}text-green-600{% else %}text-red-600{% endif %}">
                                {{ state.opponent_active.hp_percent }}%
                            </span>
                        </div>
                        {% endif %}
                        {% for pokemon in state.opponent_bench %}
                        <div class="flex items-center justify-between bg-gray-50 rounded p-2">
                            <span>{{ pokemon.name }}</span>
                            <span class="text-sm {% if pokemon.hp_percent > 0 %}text-green-600{% else %}text-red-600{% endif %}">
                                {{ pokemon.hp_percent }}%
                            </span>
                        </div>
                        {% endfor %}
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
